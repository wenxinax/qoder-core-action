name: 'Qoder Core Action'
description: 'A mock action that simulates the core logic.'

inputs:
  dashscope_api_key:
    description: 'dashscope api key'
    required: false
  prompt_file_path:
    description: 'Path to the file containing the prompt.'
    required: false
  prompt:
    description: 'The prompt to be used by the action.'
    required: false
  system_prompt:
    description: 'The system prompt for the Qoder action.'
    required: false
  qoder_download_url:
    description: 'The URL to download the Qoder model.'
    required: true

outputs:
  result_type:
    description: 'The type of result of qoder cli.'
    required: false
  output_file_path:
    description: 'The path to the output file generated by the action.'

runs:
  using: 'composite'
  steps:
    - name: 'Simulate Work and Set Output'
      id: mock-step
      shell: bash
      run: |
        echo "Mock action is running!"
        echo "Reading prompt from ${{ inputs.prompt_file_path }}"
        cat ${{ inputs.prompt_file_path }}
        echo "result_content=This is a mock result from qoder-core-action." >> $GITHUB_OUTPUT
